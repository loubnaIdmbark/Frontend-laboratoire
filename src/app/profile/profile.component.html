
<app-sidebar></app-sidebar>

    <!-- Main Content -->
<div class="main-content">
  <div class="container mt-5">
    <!-- Carte Profil -->
    <div class="card shadow-sm">
      <div class="card-header bg-light d-flex justify-content-between">

        <button class="btn btn-primary btn-sm" (click)="editMode = !editMode">
          <i class="fas fa-edit"></i> {{ editMode ? 'Annuler' : 'Modifier' }}
        </button>
      </div>

      <div class="card-body text-center">
        <!-- Section Avatar -->
        <div class="d-flex flex-column align-items-center mb-4">
          <div class="avatar" [ngClass]="user.role"></div>
          <div class="mt-3">
            <h4 class="mb-0">{{ user.nomComplet }}</h4>
            <p class="text-muted">{{ user.email }}</p>
          </div>
        </div>

        <hr />

        <!-- Formulaire d'informations utilisateur -->
        <form [formGroup]="profileForm" *ngIf="editMode; else viewMode" (ngSubmit)="saveProfile()">
          <div class="row">
            <!-- Nom complet -->
            <div class="col-md-6 mb-3">
              <label for="nomComplet" class="form-label">Nom Complet</label>
              <input
                id="nomComplet"
                formControlName="nomComplet"
                type="text"
                class="form-control"
                [readonly]="!editMode"
              />
            </div>

            <!-- Email -->
            <div class="col-md-6 mb-3">
              <label for="email" class="form-label">Email</label>
              <input
                id="email"
                formControlName="email"
                type="email"
                class="form-control"
                [readonly]="!editMode"
              />
            </div>

            <!-- Téléphone -->
            <div class="col-md-6 mb-3">
              <label for="telephone" class="form-label">Téléphone</label>
              <input
                id="telephone"
                formControlName="telephone"
                type="text"
                class="form-control"
                [readonly]="!editMode"
              />
            </div>

            <!-- Profession -->
            <div class="col-md-6 mb-3">
              <label for="profession" class="form-label">Profession</label>
              <input
                id="profession"
                formControlName="profession"
                type="text"
                class="form-control"
                [readonly]="!editMode"
              />
            </div>

            <!-- Rôle -->
            <div class="col-md-6 mb-3">
              <label for="role" class="form-label">Rôle</label>
              <select
                id="role"
                formControlName="role"
                class="form-control"
                [disabled]="!editMode">
                <option value="docteur">Docteur</option>
                <option value="technicien">Technicien</option>
                <option value="admin">Admin</option>
              </select>
            </div>
          </div>

          <hr />

          <!-- Boutons d'action -->
          <div class="d-flex justify-content-end">
            <button
              type="button"
              class="btn btn-secondary me-2"
              *ngIf="editMode"
              (click)="editMode = false">
              Annuler
            </button>
            <button
              type="submit"
              class="btn btn-success"
              *ngIf="editMode">
              Enregistrer
            </button>
          </div>
        </form>

        <!-- Mode Consultation -->
        <ng-template #viewMode>
          <div class="row">
            <div class="col-md-6 mb-3">
              <strong>Nom Complet :</strong> {{ user.nomComplet }}
            </div>
            <div class="col-md-6 mb-3">
              <strong>Email :</strong> {{ user.email }}
            </div>
            <div class="col-md-6 mb-3">
              <strong>Téléphone :</strong> {{ user.numTel }}
            </div>
            <div class="col-md-6 mb-3">
              <strong>Profession :</strong> {{ user.profession }}
            </div>
            <div class="col-md-6 mb-3">
              <strong>Rôle :</strong> {{ user.role }}
            </div>
          </div>
        </ng-template>
      </div>
    </div>
  </div>
</div>



<div class="modal" tabindex="-1" *ngIf="isAddUserModalVisible" style="display: block; background: rgba(0,0,0,0.5);">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Modifier vos données </h5>
        <button type="button" class="btn-close" (click)="toggleAddUserModal()" aria-label="Close"></button>
      </div>
      <form>
        <div class="modal-body">
          <div class="form-row">
            <label for="nomComplet">Nom Complet :</label>
            <input id="nomComplet" type="text" class="form-control" placeholder="Nom complet">
          </div>
          <div class="form-row">
            <label for="email">Email :</label>
            <input id="email" type="email" class="form-control" placeholder="Email">
          </div>


          <div class="form-row">
            <label for="numTel">Téléphone :</label>
            <input id="numTel" type="text" class="form-control" placeholder="Téléphone">
          </div>

          <div class="form-row">
            <label for="signature">Signature :</label>
            <input id="signature" type="text" class="form-control" placeholder="Signature">
          </div>
        </div>
        <div class="modal-footer">
          <button type="submit" class="btn btn-primary">Enregistrer</button>
          <button type="button" class="btn btn-secondary" (click)="toggleAddUserModal()">Fermer</button>
        </div>
      </form>
    </div>












